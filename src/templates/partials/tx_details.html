<div class="section-infos">
    <span class="title-white">Tx hash: {{tx_hash}}</span>
    {{#enable_mixins_details}}
    <span id="tx-hash-prefix">Tx prefix hash: {{tx_prefix_hash}}</span>
    {{/enable_mixins_details}}
    <span id="tx_pub_key">Tx public key: <span id="tx_pub_key">{{tx_pub_key}}</span></span>
    <span id="add_tx_pub_keys">{{add_tx_pub_keys}}</span>

    {{#has_payment_id}}
    <span id="payment-id-block">Payment id: <span id="payment_id">{{payment_id}}</span></span>
    {{/has_payment_id}}

    {{#has_payment_id8}}
    <span id="payment-id-block">Payment id (encrypted): <span id="payment_id">{{payment_id8}}</span></span>
    {{/has_payment_id8}}


    {{#have_prev_hash}}
    <span class="prev_hash">Previous tx: <a href="/tx/{{prev_hash}}">{{prev_hash}}</a></span>
    {{/have_prev_hash}}

    {{#have_next_hash}}
    <span class="next_hash">Next tx: <a href="/tx/{{next_hash}}" class="next_hash">{{next_hash}}</a></span>
    {{/have_next_hash}}
</div>


<div class="section-infos">
    <table class="section-table-alt">
        {{^have_raw_tx}}
        <tr>
            <td>Timestamp: {{blk_timestamp_uint}}</td>
            <td>Timestamp [UCT]: {{blk_timestamp}}</td>
            <td>Age [y:d:h:m:s]: {{delta_time}}</td>
        </tr>
        {{/have_raw_tx}}
        <tr>
            <td>Block: <a href="/block/{{blk_height}}">{{blk_height}}</a></td>
            <td>Fee (per_kB): {{tx_fee}} ({{payed_for_kB}})</td>
            <td>Tx size: {{tx_size}} kB</td>
        </tr>
        <tr>
            <td>Tx version: {{tx_version}}</td>
            <td>No of confirmations: {{confirmations}}</td>
            <td>RingCT/type: {{#is_ringct}}yes/{{rct_type}}{{/is_ringct}}{{^is_ringct}}no{{/is_ringct}}</td>
        </tr>


        <tr>
            <td colspan="3">Extra: {{extra}}</td>
        </tr>
    </table>
</div>



<div class="section-title">
    <h2>{{outputs_no}} output(s) for total of {{outputs_xmr_sum}} upx</h2>
</div>
<div class="section-content">
    <table class="section-table">
        <thead>
            <tr>
                <th class="left">stealth address</th>
                <th>amount</th>
                <th>amount idx</th>
            </tr>
        </thead>
        <tbody>
            {{#outputs}}
            <tr>
                <td class="left">{{output_idx}}: {{out_pub_key}}</td>
                <td>{{amount}}</td>
                <td>{{amount_idx}} of {{num_outputs}}</td>
            </tr>
            {{/outputs}}
        </tbody>
    </table>
</div>

{{^have_raw_tx}}
<div class="section-content">
    <div class="tabs">

        <div class="tab">
            <input type="radio" id="tab-1" name="tab-group-1" checked>
            <label for="tab-1">Decode outputs</label>
            <div class="tab-content">
                <div class="tab-desc">
                    <p class="big">Check which outputs belong to given Monero address/subaddress and viewkey</p>
                    <p>
                        For RingCT transactions, outputs' amounts are also decoded
                        <br />
                        Note: address/subaddress and viewkey are sent to the server, as the calculations are done on the
                        server side
                    </p>
                </div>

                <form action="/myoutputs" method="post" class="myoutputs">
                    <input type="hidden" name="tx_hash" value="{{tx_hash}}">
                    <input type="text" name="xmr_address" size="110" placeholder="Monero address/subaddress"
                        class="search-input"><br />
                    <input type="text" name="viewkey" size="110" placeholder="Private viewkey"
                        class="search-input"><br />
                    <input type="hidden" name="raw_tx_data" value="{{raw_tx_data}}">
                    <!--above raw_tx_data field only used when checking raw tx data through tx pusher-->
                    <input type="submit" value="Decode outputs" class="search-submit">
                </form>
            </div>
        </div>

        <div class="tab">
            <input type="radio" id="tab-2" name="tab-group-1">
            <label for="tab-2">Prove sending</label>

            <div class="tab-content">
                <div class="tab-desc">
                    <p class="big">Prove to someone that you have sent them Monero in this transaction</p>
                    <p>Tx private key can be obtained using <i>get_tx_key</i>
                        command in <i>monero-wallet-cli</i> command line tool
                        <br />
                        Note: address/subaddress and tx private key are sent to the server, as the calculations are done
                        on the server side
                    </p>
                </div>
                <form action="/prove" method="post" style="width:100%;margin-top:2px" class="myoutputs">
                    <input type="hidden" name="txhash" value="{{tx_hash}}"><br />
                    <input type="text" name="txprvkey" size="120" placeholder="Tx private key"
                        class="search-input"><br />
                    <input type="hidden" name="raw_tx_data" value="{{raw_tx_data}}">
                    <!--above raw_tx_data field only used when checking raw tx data through tx pusher-->
                    <input type="text" name="xmraddress" size="120" placeholder="Recipient's monero address/subaddress"
                        class="search-input"><br />
                    <input type="submit" value="Prove sending" class="search-submit">
                </form>
            </div>
        </div>
    </div>
</div>
{{/have_raw_tx}}


{{#has_inputs}}
{#enable_mixins_details}}
<div class="section-infos">
    <h3>Inputs' ring size time scale (from {{min_mix_time}} till {{max_mix_time}};
        resolution: {{timescales_scale}} days{{#have_raw_tx}}; R - real ring member {{/have_raw_tx}})
    </h3>
    <ul class="left">
        {{#timescales}}
        <li>|{{timescale}}|</li>
        {{/timescales}}
    </ul>
</div>
{{/enable_mixins_details}}

<div class="section-infos">
    {{^inputs_xmr_sum_not_zero}}
    <h3>{{inputs_no}} input(s) for total of {{inputs_xmr_sum}} upx</h3>
    {{/inputs_xmr_sum_not_zero}}
    {{#inputs_xmr_sum_not_zero}}
    {{^have_any_unknown_amount}}
    <h3>{{inputs_no}} inputs(s) for total of {{inputs_xmr_sum}} upx</h3>
    {{/have_any_unknown_amount}}
    {{#have_any_unknown_amount}}
    <h3>{{inputs_no}} inputs(s) for total of at least {{inputs_xmr_sum}} upx</h3>
    {{/have_any_unknown_amount}}
    {{/inputs_xmr_sum_not_zero}}

    {{#show_part_of_inputs}}
    <h5>
        Only {{max_no_of_inputs_to_show}} inputs are shown. To see all,
        click "<a href="/tx/{{tx_hash}}/1">more details</a>"
    </h5>
    {{/show_part_of_inputs}}

    <div class="section-content">
        <table class="section-table">
            {{#inputs}}
            <tr>
                <td style="text-align: left;">
                    key image {{input_idx}}: {{in_key_img}}
                    {{#have_raw_tx}}
                    Already spent:
                    {{#already_spent}}
                    <span style="color: red; font-weight: bold;">True</span>
                    {{/already_spent}}
                    {{^already_spent}}
                    False
                    {{/already_spent}}

                    {{/have_raw_tx}}
                </td>
                <td>amount: {{amount}}</td>
            </tr>
            <tr>
                <td colspan="2">
                    {{#enable_mixins_details}}
                    <table style="width:100%; margin-bottom:20px">
                        <tr>
                            <td>ring members</td>
                            {{#have_raw_tx}}
                            <td>Is it real?</td>
                            {{/have_raw_tx}}
                            <td>blk</td>
                            <td>ring size</td>
                            <td>in/out</td>
                            <td>timestamp</td>
                            <td>age [y:d:h:m:s]</td>

                        </tr>
                        {{#mixins}}
                        <tr>
                            <td> - {{mix_idx}}: <a href="/tx/{{mix_tx_hash}}">{{mix_pub_key}}</a></td>
                            {{#have_raw_tx}}
                            {{#mix_is_it_real}}
                            <td><span style="color: #008009;font-weight: bold">{{mix_is_it_real}}</span></td>
                            {{/mix_is_it_real}}
                            {{^mix_is_it_real}}
                            <td>{{mix_is_it_real}}</td>
                            {{/mix_is_it_real}}
                            {{/have_raw_tx}}
                            <td>{{mix_blk}}</td>
                            <td>{{mix_mixin_no}}</td>
                            <td>{{mix_inputs_no}}/{{mix_outputs_no}}</td>
                            <td>{{mix_timestamp}}</td>
                            <td>{{mix_age}}</td>
                        </tr>
                        {{/mixins}}
                    </table>
                    {{/enable_mixins_details}}
                    {{^enable_mixins_details}}
                    <table style="width:100%; margin-bottom:20px">
                        <tr>
                            <td>ring members</td>
                            {{#have_raw_tx}}
                            <td>Is it real?</td>
                            {{/have_raw_tx}}
                            <td>blk</td>
                        </tr>
                        {{#mixins}}
                        <tr>
                            <td> - {{mix_idx}}: {{mix_pub_key}}</td>
                            {{#have_raw_tx}}
                            {{#mix_is_it_real}}
                            <td><span style="color: #008009;font-weight: bold">{{mix_is_it_real}}</span></td>
                            {{/mix_is_it_real}}
                            {{^mix_is_it_real}}
                            <td>{{mix_is_it_real}}</td>
                            {{/mix_is_it_real}}
                            {{/have_raw_tx}}
                            <td>{{mix_blk}}</td>
                        </tr>
                        {{/mixins}}
                    </table>
                    {{/enable_mixins_details}}
                </td>
            </tr>

            <!--
            {{#with_ring_signatures}}

            <tr>
                <td colspan="2">
                    <table style="width:100%; margin-bottom:20px">
                    <tr>
                    <td>Ring signature</td>
                    </tr>
                    {{#ring_sigs}}
                    <tr>
                        <td>{{ring_sig}}</td>
                    </tr>
                    {{/ring_sigs}}
                </table>
            </td>
            </tr>

            {{/with_ring_signatures}}
    -->

            {{/inputs}}
        </table>


    </div>
</div>

{{/has_inputs}}

{{^have_raw_tx}}
{{^with_ring_signatures}}
{{#show_more_details_link}}
<div class="more-details">
    <a href="/tx/{{tx_hash}}/1">More details</a>
    {{#enable_as_hex}}
    | <a href="/txhex/{{tx_hash}}">Tx as hex</a>
    | <a href="/ringmembershex/{{tx_hash}}">Ring member outputs/mixins as hex</a>
    | <a href="/ringmemberstxhex/{{tx_hash}}">Full ring member txs as hex</a>
    {{/enable_as_hex}}
</div>
{{/show_more_details_link}}
{{/with_ring_signatures}}
{{#with_ring_signatures}}
<label id="show-decoded-inputs" for="toggle-1">Show JSON representation of tx</label>
<input type="checkbox" id="toggle-1">
<div id="decoded-inputs">
    <div class="center">
        <code>
                    {{tx_json}}
                </code>
    </div>
</div>
<div class="less-details">
    <a href="/tx/{{tx_hash}}">Less details</a>
</div>
{{/with_ring_signatures}}
{{/have_raw_tx}}